<!doctype html><html lang=en dir=ltr class=scroll-smooth data-default-appearance=light data-auto-appearance=true><head><meta charset=utf-8><meta http-equiv=content-language content="en"><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=theme-color><title>Practical Guide to Efficient Log Query and Analysis Tools &#183; muzimu</title><meta name=title content="Practical Guide to Efficient Log Query and Analysis Tools &#183; muzimu"><meta name=description content="Combining tools like cat/grep/jq/sort/uniq/awk for log query and analysis"><meta name=keywords content="Backend Development,DevOps,"><link rel=canonical href=https://muzimu.github.io/en/posts/log/><meta name=author content="muzimu"><link href=https://muzimu.github.io/ rel=me><link href=https://github.com/muzimu rel=me><meta property="og:url" content="https://muzimu.github.io/en/posts/log/"><meta property="og:site_name" content="muzimu"><meta property="og:title" content="Practical Guide to Efficient Log Query and Analysis Tools"><meta property="og:description" content="Combining tools like cat/grep/jq/sort/uniq/awk for log query and analysis"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-11-04T14:23:03+08:00"><meta property="article:modified_time" content="2025-11-04T14:23:03+08:00"><meta property="article:tag" content="Backend Development"><meta property="article:tag" content="DevOps"><meta property="og:image" content="https://muzimu.github.io/posts/log/cover.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://muzimu.github.io/posts/log/cover.png"><meta name=twitter:title content="Practical Guide to Efficient Log Query and Analysis Tools"><meta name=twitter:description content="Combining tools like cat/grep/jq/sort/uniq/awk for log query and analysis"><link type=text/css rel=stylesheet href=/css/main.bundle.min.b7abbc29c702e4ef4948ef79b7b86f90bdd2b7face2ca9ef66f1162b3bc1cfc65ba686f4bc42c09c4004c0639ddcee6b543ac9d528731d2ad11babe91a237334.css integrity="sha512-t6u8KccC5O9JSO95t7hvkL3St/rOLKnvZvEWKzvBz8Zbpob0vELAnEAEwGOd3O5rVDrJ1ShzHSrRG6vpGiNzNA=="><script type=text/javascript src=/js/appearance.min.6f41174b3a05b680820fe08cadbfa5fb7a7ca347b76a0955cdc68b9d8aca1ce24f0547e138cea33bcc7904d551a90afcb1cc7f2d9fe8557075d501419046c08c.js integrity="sha512-b0EXSzoFtoCCD+CMrb+l+3p8o0e3aglVzcaLnYrKHOJPBUfhOM6jO8x5BNVRqQr8scx/LZ/oVXB11QFBkEbAjA=="></script><script src=/lib/zoom/zoom.min.umd.a527109b68c082a70f3697716dd72a9d5aa8b545cf800cecbbc7399f2ca6f6e0ce3e431f2062b48bbfa47c9ea42822714060bef309be073f49b9c0e30d318d7b.js integrity="sha512-pScQm2jAgqcPNpdxbdcqnVqotUXPgAzsu8c5nyym9uDOPkMfIGK0i7+kfJ6kKCJxQGC+8wm+Bz9JucDjDTGNew=="></script><script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.0e2e7ce1e319db5369cd4badb8265de52c78d08df54617521bdac9c8cd335eea6133a82c83f9cb19baf67b8133335130e7e8ff7cfeaf7171016648dbf5a0578a.js integrity="sha512-Di584eMZ21NpzUutuCZd5Sx40I31RhdSG9rJyM0zXuphM6gsg/nLGbr2e4EzM1Ew5+j/fP6vcXEBZkjb9aBXig==" data-copy=Copy data-copied=Copied></script><script src=/lib/jquery/jquery.slim.min.b0dca576e87d7eaa5850ae4e61759c065786cdb6489d68fcc82240539eebd5da522bdb4fda085ffd245808c8fe2acb2516408eb774ef26b5f6015fc6737c0ea8.js integrity="sha512-sNylduh9fqpYUK5OYXWcBleGzbZInWj8yCJAU57r1dpSK9tP2ghf/SRYCMj+KsslFkCOt3TvJrX2AV/Gc3wOqA=="></script><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"Blog","name":"Practical Guide to Efficient Log Query and Analysis Tools","headline":"Practical Guide to Efficient Log Query and Analysis Tools","inLanguage":"en","url":"https://muzimu.github.io/en/posts/log/","author":{"@type":"Person","name":"muzimu"},"copyrightYear":"2025","dateCreated":"2025-11-04T14:23:03\u002b08:00","datePublished":"2025-11-04T14:23:03\u002b08:00","dateModified":"2025-11-04T14:23:03\u002b08:00","keywords":["Backend Development","DevOps"],"mainEntityOfPage":"true","wordCount":"1662"}]</script><script src=https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js></script><script src=https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js></script><script src=https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js></script><script>const firebaseConfig={apiKey:"AIzaSyDS0R4OAJACTBk_WOvMqM4kUGMPkyxvHGY",authDomain:"muzimu-faf35.firebaseapp.com",projectId:"muzimu-faf35",storageBucket:"muzimu-faf35.firebasestorage.app",messagingSenderId:"858043631174",appId:"1:858043631174:web:14afc2212c6f7f9d8dec47",measurementId:"G-MV0DP6MNK9"};var app=firebase.initializeApp(firebaseConfig),db=firebase.firestore(),auth=firebase.auth()</script></head><body class="flex flex-col h-screen m-auto leading-7 max-w-7xl px-6 sm:px-14 md:px-24 lg:px-32 text-lg bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral bf-scrollbar"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="font-bold text-primary-600 pe-2 dark:text-primary-400">&darr;</span>
Skip to main content</a></div><div class="main-menu flex items-center w-full gap-2 p-1 pl-0"><a href=/en/ class="text-base font-medium truncate min-w-0 shrink">muzimu</a><div class="flex items-center ms-auto"><div class="hidden md:flex"><nav class="flex items-center gap-x-5 h-12"><a href=/en/posts/ class="flex items-center bf-icon-color-hover" aria-label=Blog title=Blog><span class="text-base font-medium break-normal">Blog
</span></a><a href=/en/about/ class="flex items-center bf-icon-color-hover" aria-label="About me" title="About me"><span class="text-base font-medium break-normal">About me
</span></a><a href=/en/friends/ class="flex items-center bf-icon-color-hover" aria-label=Friends title=Friends><span class="text-base font-medium break-normal">Friends
</span></a><a href=https://github.com/muzimu target=_blank class="flex items-center bf-icon-color-hover" aria-label=GitHub title><span class=mr-1><span class="relative block icon"><svg viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
</span></span><span class="text-base font-medium break-normal">GitHub</span></a><div class="translation nested-menu"><button class="cursor-pointer flex items-center">
<span class=me-1><span class="relative block icon"><svg viewBox="0 0 640 512"><path fill="currentColor" d="M0 128C0 92.7 28.7 64 64 64H256h48 16H576c35.3.0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H320 304 256 64c-35.3.0-64-28.7-64-64V128zm320 0V384H576V128H320zM178.3 175.9c-3.2-7.2-10.4-11.9-18.3-11.9s-15.1 4.7-18.3 11.9l-64 144c-4.5 10.1.1 21.9 10.2 26.4s21.9-.1 26.4-10.2l8.9-20.1h73.6l8.9 20.1c4.5 10.1 16.3 14.6 26.4 10.2s14.6-16.3 10.2-26.4l-64-144zM160 233.2 179 276H141l19-42.8zM448 164c11 0 20 9 20 20v4h44 16c11 0 20 9 20 20s-9 20-20 20h-2l-1.6 4.5c-8.9 24.4-22.4 46.6-39.6 65.4.9.6 1.8 1.1 2.7 1.6l18.9 11.3c9.5 5.7 12.5 18 6.9 27.4s-18 12.5-27.4 6.9L467 333.8c-4.5-2.7-8.8-5.5-13.1-8.5-10.6 7.5-21.9 14-34 19.4l-3.6 1.6c-10.1 4.5-21.9-.1-26.4-10.2s.1-21.9 10.2-26.4l3.6-1.6c6.4-2.9 12.6-6.1 18.5-9.8L410 286.1c-7.8-7.8-7.8-20.5.0-28.3s20.5-7.8 28.3.0l14.6 14.6.5.5c12.4-13.1 22.5-28.3 29.8-45H448 376c-11 0-20-9-20-20s9-20 20-20h52v-4c0-11 9-20 20-20z"/></svg></span>
</span><span class="text-sm font-medium bf-icon-color-hover" title="Practical Guide to Efficient Log Query and Analysis Tools">EN</span></button><ul class=menuhide><li class="rounded-xl backdrop-blur shadow-2xl p-2 flex flex-col gap-1"><a href=/posts/log/ class="flex items-center bf-icon-color-hover px-3 py-1"><span class="text-sm font-sm" title=È´òÊïàÊó•ÂøóÊü•ËØ¢ÂàÜÊûêÂ∑•ÂÖ∑ÂÆûÊàòÊåáÂçó>ÁÆÄ‰Ωì‰∏≠Êñá
</span></a><a href=/en/posts/log/ class="flex items-center bf-icon-color-hover px-3 py-1"><span class="text-sm font-sm" title="Practical Guide to Efficient Log Query and Analysis Tools">EN</span></a></li></ul></div><button id=search-button aria-label=Search class="text-base bf-icon-color-hover" title="Search (/)">
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></button><div class="flex items-center"><button id=appearance-switcher aria-label="Dark mode switcher" type=button class="text-base bf-icon-color-hover"><div class="flex items-center justify-center dark:hidden"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="items-center justify-center hidden dark:flex"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button></div></nav></div><div class="flex md:hidden"><div class="flex items-center h-14 gap-4"><button id=search-button-mobile aria-label=Search class="flex items-center justify-center bf-icon-color-hover" title="Search (/)">
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span></button>
<button id=appearance-switcher-mobile type=button aria-label="Dark mode switcher" class="flex items-center justify-center text-neutral-900 hover:text-primary-600 dark:text-neutral-200 dark:hover:text-primary-400"><div class=dark:hidden><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="hidden dark:block"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button>
<input type=checkbox id=mobile-menu-toggle autocomplete=off class="hidden peer">
<label for=mobile-menu-toggle class="flex items-center justify-center cursor-pointer bf-icon-color-hover"><span class="relative block icon"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416c17.7.0 32 14.33 32 32 0 17.7-14.3 32-32 32H32C14.33 128 0 113.7.0 96zM0 256c0-17.7 14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32H32c-17.67.0-32-14.3-32-32zM416 448H32c-17.67.0-32-14.3-32-32s14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32z"/></svg></span></label><div role=dialog aria-modal=true style=scrollbar-gutter:stable class="fixed inset-0 z-50 invisible overflow-y-auto px-6 py-20 opacity-0 transition-[opacity,visibility] duration-300 peer-checked:visible peer-checked:opacity-100 bg-neutral-50/97 dark:bg-neutral-900/99
bf-scrollbar"><label for=mobile-menu-toggle class="fixed end-8 top-5 flex items-center justify-center z-50 h-12 w-12 cursor-pointer select-none rounded-full bf-icon-color-hover border bf-border-color bf-border-color-hover bg-neutral-50 dark:bg-neutral-900"><span class="relative block icon"><svg viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></label><nav class="mx-auto max-w-md space-y-6"><div class=px-2><a href=/en/posts/ aria-label=Blog class="flex items-center gap-4 group bf-icon-color-hover text-neutral-700 dark:text-neutral-200"><span title=Blog class="text-2xl font-bold tracking-tight">Blog</span></a></div><div class=px-2><a href=/en/about/ aria-label="About me" class="flex items-center gap-4 group bf-icon-color-hover text-neutral-700 dark:text-neutral-200"><span title="About me" class="text-2xl font-bold tracking-tight">About me</span></a></div><div class=px-2><a href=/en/friends/ aria-label=Friends class="flex items-center gap-4 group bf-icon-color-hover text-neutral-700 dark:text-neutral-200"><span title=Friends class="text-2xl font-bold tracking-tight">Friends</span></a></div><div class=px-2><a href=https://github.com/muzimu aria-label=GitHub target=_blank class="flex items-center gap-4 group bf-icon-color-hover text-neutral-700 dark:text-neutral-200"><span class="flex items-center justify-center h-8 w-8 text-2xl"><span class="relative block icon"><svg viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
</span></span><span title class="text-2xl font-bold tracking-tight">GitHub</span></a></div><div class="flex flex-wrap items-center [&_span]:text-2xl [&_.translation_button_.icon]:text-4xl! [&_.translation_button_span]:text-base! [&_.translation_.menuhide_span]:text-sm! gap-x-6 ps-2 mt-8 pt-8 border-t bf-border-color"><div class="translation nested-menu"><button class="cursor-pointer flex items-center">
<span class=me-1><span class="relative block icon"><svg viewBox="0 0 640 512"><path fill="currentColor" d="M0 128C0 92.7 28.7 64 64 64H256h48 16H576c35.3.0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H320 304 256 64c-35.3.0-64-28.7-64-64V128zm320 0V384H576V128H320zM178.3 175.9c-3.2-7.2-10.4-11.9-18.3-11.9s-15.1 4.7-18.3 11.9l-64 144c-4.5 10.1.1 21.9 10.2 26.4s21.9-.1 26.4-10.2l8.9-20.1h73.6l8.9 20.1c4.5 10.1 16.3 14.6 26.4 10.2s14.6-16.3 10.2-26.4l-64-144zM160 233.2 179 276H141l19-42.8zM448 164c11 0 20 9 20 20v4h44 16c11 0 20 9 20 20s-9 20-20 20h-2l-1.6 4.5c-8.9 24.4-22.4 46.6-39.6 65.4.9.6 1.8 1.1 2.7 1.6l18.9 11.3c9.5 5.7 12.5 18 6.9 27.4s-18 12.5-27.4 6.9L467 333.8c-4.5-2.7-8.8-5.5-13.1-8.5-10.6 7.5-21.9 14-34 19.4l-3.6 1.6c-10.1 4.5-21.9-.1-26.4-10.2s.1-21.9 10.2-26.4l3.6-1.6c6.4-2.9 12.6-6.1 18.5-9.8L410 286.1c-7.8-7.8-7.8-20.5.0-28.3s20.5-7.8 28.3.0l14.6 14.6.5.5c12.4-13.1 22.5-28.3 29.8-45H448 376c-11 0-20-9-20-20s9-20 20-20h52v-4c0-11 9-20 20-20z"/></svg></span>
</span><span class="text-sm font-medium bf-icon-color-hover" title="Practical Guide to Efficient Log Query and Analysis Tools">EN</span></button><ul class=menuhide><li class="rounded-xl backdrop-blur shadow-2xl p-2 flex flex-col gap-1"><a href=/posts/log/ class="flex items-center bf-icon-color-hover px-3 py-1"><span class="text-sm font-sm" title=È´òÊïàÊó•ÂøóÊü•ËØ¢ÂàÜÊûêÂ∑•ÂÖ∑ÂÆûÊàòÊåáÂçó>ÁÆÄ‰Ωì‰∏≠Êñá
</span></a><a href=/en/posts/log/ class="flex items-center bf-icon-color-hover px-3 py-1"><span class="text-sm font-sm" title="Practical Guide to Efficient Log Query and Analysis Tools">EN</span></a></li></ul></div></div></nav></div></div></div></div></div><div class="relative flex flex-col grow"><main id=main-content class=grow><article><div id=hero class="h-[150px] md:h-[200px]"></div><div class="fixed inset-x-0 top-0 h-[800px] single_hero_background nozoom"><img id=background-image src=/posts/log/cover_hu_e3779756d621de93.png role=presentation loading=eager decoding=async fetchpriority=high class="absolute inset-0 w-full h-full object-cover"><div class="absolute inset-0 bg-gradient-to-t from-neutral dark:from-neutral-800 to-transparent mix-blend-normal"></div><div class="absolute inset-0 opacity-60 bg-gradient-to-t from-neutral dark:from-neutral-800 to-neutral-100 dark:to-neutral-800 mix-blend-normal"></div></div><div id=background-blur class="fixed opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom backdrop-blur-xl bg-neutral-100/75 dark:bg-neutral-800/60"></div><script type=text/javascript src=/js/background-blur.min.605b3b942818f0ab5a717ae446135ec46b8ee5a2ad12ae56fb90dc2a76ce30c388f9fec8bcc18db15bd47e3fa8a09d779fa12aa9c184cf614a315bc72c6c163d.js integrity="sha512-YFs7lCgY8KtacXrkRhNexGuO5aKtEq5W+5DcKnbOMMOI+f7IvMGNsVvUfj+ooJ13n6EqqcGEz2FKMVvHLGwWPQ==" data-blur-id=background-blur data-image-id=background-image data-image-url=/posts/log/cover_hu_e3779756d621de93.png></script><header id=single_header class="mt-5 max-w-prose"><ol class="text-sm text-neutral-500 dark:text-neutral-400 print:hidden"><li class=hidden><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/en/>Ê¨¢ËøéÊù•Âà∞ Blowfish ÔºÅ</a><span class="px-1 text-primary-500">/</span></li><li class=inline><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/en/posts/>Blog</a><span class="px-1 text-primary-500">/</span></li><li class=hidden><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/en/posts/log/>Practical Guide to Efficient Log Query and Analysis Tools</a><span class="px-1 text-primary-500">/</span></li></ol><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">Practical Guide to Efficient Log Query and Analysis Tools</h1><div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><span>1662 words</span></div><div class="flex flex-row flex-wrap items-center"><a class="relative mt-[0.5rem] me-2" href=/en/tags/backend-development/><span class="flex cursor-pointer"><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Backend Development
</span></span></a><a class="relative mt-[0.5rem] me-2" href=/en/tags/devops/><span class="flex cursor-pointer"><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">DevOps</span></span></a></div></div></header><section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row"><div class="order-first lg:ms-auto px-0 lg:order-last lg:ps-8 lg:max-w-2xs"><div class="toc ps-5 print:hidden lg:sticky lg:top-10"><details open id=TOCView class="toc-right mt-0 overflow-y-auto overscroll-contain bf-scrollbar rounded-lg -ms-5 ps-5 pe-2 hidden lg:block"><summary class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Table of Contents</summary><div class="min-w-[220px] py-2 border-dotted border-s-1 -ms-5 ps-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><ul><li><a href=#-log-reading-commands>üîç Log Reading Commands</a><ul><li><a href=#cat-command>cat Command</a></li><li><a href=#tail-command>tail Command</a></li><li><a href=#less-command>less Command</a></li></ul></li><li><a href=#-log-filtering-commands>üéØ Log Filtering Commands</a><ul><li><a href=#jq-and-common-functions>jq and Common Functions</a><ul><li><a href=#basic-value-extraction>Basic Value Extraction</a></li><li><a href=#conditional-filtering>Conditional Filtering</a><ul><li><a href=#has>has</a></li><li><a href=#contains>contains</a></li><li><a href=#index>index</a></li><li><a href=#test-regular-expression>test (Regular Expression)</a></li></ul></li><li><a href=#sortuniqgroup_byarray>sort/uniq/group_by(array)</a></li><li><a href=#multiple-lines-of-independent-json-objects-not-arrays><strong>Multiple lines of independent JSON objects (not arrays)</strong></a></li><li><a href=#length>length</a></li><li><a href=#rename-fields>Rename Fields</a></li></ul></li></ul></li><li><a href=#-log-statistical-analysis-commands>üìä Log Statistical Analysis Commands</a><ul><li><a href=#sortuniq>sort/uniq</a></li><li><a href=#wc>wc</a></li><li><a href=#awk>awk</a></li></ul></li><li><a href=#-practical-case-analysis>üíº Practical Case Analysis</a><ul><li><a href=#query-non-info-logs>Query Non-Info Logs</a></li><li><a href=#query-logs-for-specific-user>Query Logs for Specific User</a></li><li><a href=#count-error-logs>Count Error Logs</a></li></ul></li></ul></li></ul></nav></div></details><details class="toc-inside mt-0 overflow-hidden rounded-lg -ms-5 ps-5 lg:hidden"><summary class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Table of Contents</summary><div class="py-2 border-dotted border-neutral-300 border-s-1 -ms-5 ps-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><ul><li><a href=#-log-reading-commands>üîç Log Reading Commands</a><ul><li><a href=#cat-command>cat Command</a></li><li><a href=#tail-command>tail Command</a></li><li><a href=#less-command>less Command</a></li></ul></li><li><a href=#-log-filtering-commands>üéØ Log Filtering Commands</a><ul><li><a href=#jq-and-common-functions>jq and Common Functions</a><ul><li><a href=#basic-value-extraction>Basic Value Extraction</a></li><li><a href=#conditional-filtering>Conditional Filtering</a><ul><li><a href=#has>has</a></li><li><a href=#contains>contains</a></li><li><a href=#index>index</a></li><li><a href=#test-regular-expression>test (Regular Expression)</a></li></ul></li><li><a href=#sortuniqgroup_byarray>sort/uniq/group_by(array)</a></li><li><a href=#multiple-lines-of-independent-json-objects-not-arrays><strong>Multiple lines of independent JSON objects (not arrays)</strong></a></li><li><a href=#length>length</a></li><li><a href=#rename-fields>Rename Fields</a></li></ul></li></ul></li><li><a href=#-log-statistical-analysis-commands>üìä Log Statistical Analysis Commands</a><ul><li><a href=#sortuniq>sort/uniq</a></li><li><a href=#wc>wc</a></li><li><a href=#awk>awk</a></li></ul></li><li><a href=#-practical-case-analysis>üíº Practical Case Analysis</a><ul><li><a href=#query-non-info-logs>Query Non-Info Logs</a></li><li><a href=#query-logs-for-specific-user>Query Logs for Specific User</a></li><li><a href=#count-error-logs>Count Error Logs</a></li></ul></li></ul></li></ul></nav></div></details></div></div><div class="min-w-0 min-h-0 max-w-fit"><div class="article-content max-w-prose mb-20"><blockquote><p>üí° <strong>Preface</strong>
Efficient and elegant log querying is a required skill for backend engineers. This article details the usage of structured log (JSON) query tools and provides practical case analyses combining multiple tools.</p></blockquote><p>We assume there are multiple log files in the current directory, all with .log suffix. Let&rsquo;s start introducing log query commands.</p><h2 class="relative group">üîç Log Reading Commands<div id=-log-reading-commands class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#-log-reading-commands aria-label=Anchor>#</a></span></h2><h3 class="relative group">cat Command<div id=cat-command class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#cat-command aria-label=Anchor>#</a></span></h3><p><code>cat</code> is one of the most basic and commonly used commands in Linux/Unix systems, short for &ldquo;concatenate&rdquo;. It is mainly used to read, display, and merge file contents, and can also be used to create simple files. Here are its detailed usages:</p><ul><li><strong>Read a single log file</strong>: Directly specify the filename to view the entire contents of the log file.</li></ul><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat test.log</span></span></code></pre></div></div><ul><li><strong>Read multiple specified log files</strong>: List multiple log filenames in sequence to view their contents at once (concatenated in input order).</li></ul><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat test1.log test2.log</span></span></code></pre></div></div><ul><li><strong>Read all .log files in current directory</strong>: Use wildcard <code>*</code> to match all files ending with .log. Contents will be displayed in &ldquo;numeric > uppercase > lowercase&rdquo; character sorting order.</li></ul><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat *.log</span></span></code></pre></div></div><ul><li><strong>Read log files with specific prefix</strong>: Use &ldquo;prefix + wildcard&rdquo; combination to precisely match target files (e.g., match all log files starting with 20250928).</li></ul><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat 20250928*.log</span></span></code></pre></div></div><ul><li><strong>Merge multiple files into a new file</strong>: Use redirection symbol <code>></code> to merge contents of multiple files into a specified new file (<strong>Note: <code>></code> will overwrite existing contents of the target file</strong>).</li></ul><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat test1.log test2.log &gt; merged.log</span></span></code></pre></div></div><ul><li><strong>Append content to an existing file</strong>: To preserve existing contents of the target file, use redirection symbol <code>>></code> to append new content to the end of the target file.</li></ul><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat file3.txt &gt;&gt; merged.txt <span class=c1># Append contents of file3.txt to merged.txt</span></span></span></code></pre></div></div><ul><li><strong>Read from standard input (keyboard) and save to file</strong>: When no source file is specified, <code>cat</code> reads from keyboard by default. Press <code>Ctrl+d</code> to end input and save (suitable for quickly creating short text files).</li></ul><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat &gt; newfile.txt <span class=c1># Press Ctrl+d after entering content to save</span></span></span></code></pre></div></div><ul><li><strong>Read gzipped files</strong>: Use <code>zcat</code> command to directly read gzipped files.</li></ul><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>zcat test.log.gz</span></span></code></pre></div></div><table><thead><tr><th style=text-align:left>Option</th><th style=text-align:left>Function Description</th></tr></thead><tbody><tr><td style=text-align:left><code>-n</code></td><td style=text-align:left>Display line numbers for all lines (including empty lines)</td></tr><tr><td style=text-align:left><code>-b</code></td><td style=text-align:left>Display line numbers only for non-empty lines (ignore empty lines)</td></tr><tr><td style=text-align:left><code>-s</code></td><td style=text-align:left>Compress consecutive empty lines into one (remove extra blank lines)</td></tr><tr><td style=text-align:left><code>-E</code></td><td style=text-align:left>Display <code>$</code> at end of each line (easy to distinguish line endings and spaces)</td></tr><tr><td style=text-align:left><code>-T</code></td><td style=text-align:left>Display tab characters as <code>^I</code> (easy to view hidden tabs)</td></tr><tr><td style=text-align:left><code>-v</code></td><td style=text-align:left>Display non-printable characters (except newlines and tabs)</td></tr></tbody></table><blockquote><p>For real-time log monitoring, you can use <a href=/en/posts/log/#tail-command><code>tail -f command</code></a></p><p>For very large log files, you can use <a href=/en/posts/log/#less-command><code>less command</code></a> for pagination</p></blockquote><p>cat is the most commonly used command in log querying. We can use pipes (<code>|</code>) to pass cat&rsquo;s output to other tools for processing:</p><ul><li><p>View file and search for keywords (combining with <a href=/en/posts/log/#grep><code>grep</code></a>):</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat test.log <span class=p>|</span> grep <span class=s2>&#34;ERROR&#34;</span>  <span class=c1># Filter lines containing ERROR from test.log</span></span></span></code></pre></div></div></li><li><p>View file and sort (combining with <a href=/en/posts/log/#sortuniq><code>sort</code></a>):</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat test.log <span class=p>|</span> sort -n  <span class=c1># Sort file contents numerically</span></span></span></code></pre></div></div></li></ul><h3 class="relative group">tail Command<div id=tail-command class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#tail-command aria-label=Anchor>#</a></span></h3><ul><li>View the <strong>end contents</strong> of test.log (displays last 10 lines by default)</li></ul><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>tail test.log</span></span></code></pre></div></div><ul><li><strong>Real-time tracking</strong> of updates to all log files in current directory, suitable for monitoring continuously written logs</li></ul><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>tail -f *.log</span></span></code></pre></div></div><ul><li><strong>Enhanced real-time tracking</strong> automatically follows new files when log files are rotated (e.g., archived by date)</li></ul><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>tail -F *.log</span></span></code></pre></div></div><h3 class="relative group">less Command<div id=less-command class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#less-command aria-label=Anchor>#</a></span></h3><ul><li><p><strong>Open file</strong>:</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>less test.log  <span class=c1># View test.log with pagination</span></span></span></code></pre></div></div><p>Can also combine with pipes to receive output from other commands:</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat *.log <span class=p>|</span> less  <span class=c1># View merged contents of all .log files with pagination</span>
</span></span><span class=line><span class=cl>cat test.log <span class=p>|</span> grep <span class=s2>&#34;error&#34;</span> <span class=p>|</span> less  <span class=c1># View log lines containing error with pagination</span></span></span></code></pre></div></div></li><li><p><strong>Core operation shortcuts</strong>:</p><ul><li><strong>Pagination</strong>:<ul><li><code>Mouse wheel</code>: Scroll up/down.</li><li>Space / <code>f</code>: Scroll down one screen.</li><li><code>b</code>: Scroll up one screen.</li><li>Enter / Up/Down arrow keys: Scroll line by line.</li></ul></li><li><strong>Navigation</strong>:<ul><li><code>g</code>: Jump to start of file.</li><li><code>G</code>: Jump to end of file.</li><li><code>50g</code>: Jump to line 50.</li></ul></li><li><strong>Search</strong>:<ul><li><code>/keyword</code>: Search downward from current position (e.g., <code>/ERROR</code> searches for ERROR).</li><li><code>?keyword</code>: Search upward from current position.</li><li>Press <code>n</code>: Jump to next match.</li><li>Press <code>N</code>: Jump to previous match.</li></ul></li><li><strong>Other</strong>:<ul><li><code>q</code>: Exit view.</li><li><code>v</code>: Open file in default editor at current position (convenient for editing).</li><li><code>Ctrl+f</code>: Scroll forward one screen (same as space).</li><li><code>Ctrl+b</code>: Scroll backward one screen (same as <code>b</code>).</li></ul></li></ul></li></ul><blockquote><p>To preserve jq syntax highlighting in less, add -C parameter to jq and -R parameter to less
Example: <code>cat test.log | jq -C | less -R</code></p></blockquote><h2 class="relative group">üéØ Log Filtering Commands<div id=-log-filtering-commands class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#-log-filtering-commands aria-label=Anchor>#</a></span></h2><h3 class="relative group">jq and Common Functions<div id=jq-and-common-functions class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#jq-and-common-functions aria-label=Anchor>#</a></span></h3><h4 class="relative group">Basic Value Extraction<div id=basic-value-extraction class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#basic-value-extraction aria-label=Anchor>#</a></span></h4><ul><li><p><strong><code>.</code></strong>: Get the entire JSON log object, used for formatted output</p><p>Example: <code>cat test.log | jq '.'</code> (format and print logs)</p><p><strong><code>-c</code> enables compact mode, displays logs in single lines</strong></p></li><li><p><strong><code>.key</code></strong>: Extract value of specified field (e.g., timestamp, level in logs)</p><p>Example: <code>cat test.log | jq '.level'</code> (extract all log levels)</p></li><li><p><strong><code>.array[index]</code></strong>: Get specified element of array-type field (e.g., tags[0] in logs)</p><p>Example: <code>cat test.log | jq '.tags[1]'</code> (extract second element of tags array)</p></li><li><p><strong><code>.key1.key2</code></strong>: Nested value extraction (e.g., user.name in logs)</p><p>Example: <code>cat test.log | jq '.request.url'</code> (extract request URL)</p></li></ul><h4 class="relative group">Conditional Filtering<div id=conditional-filtering class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#conditional-filtering aria-label=Anchor>#</a></span></h4><ul><li><p><strong><code>select(condition)</code></strong>: Filter log entries that meet the condition</p><p>Example: <code>cat test.log | jq 'select(.level == "ERROR")'</code> (filter all error level logs)</p></li></ul><h5 class="relative group">has<div id=has class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#has aria-label=Anchor>#</a></span></h5><ul><li><p><strong>Function</strong>: Determine if an object contains the specified field (commonly used in logs to check if an attribute exists)</p></li><li><p><strong>Usage</strong>: <code>select(has("fieldname"))</code></p><p>Example 1: Filter error logs containing <code>stackTrace</code> field</p><p><code>cat test.log | jq 'select(has("stackTrace") and .level == "ERROR")'</code></p><p>Example 2: Exclude error logs containing <code>stackTrace</code> field</p><p><code>cat test.log | jq 'select(has("stackTrace") == false)'</code></p></li></ul><h5 class="relative group">contains<div id=contains class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#contains aria-label=Anchor>#</a></span></h5><ul><li><p><strong>Function</strong>: Determine if an array/string contains specified element/substring</p></li><li><p><strong>Usage</strong>: <code>select(.field | contains(target))</code></p><p>Example 1 (string contains): Filter logs where <code>message</code> contains &ldquo;timeout&rdquo;</p><p><code>cat test.log | jq 'select(.message | contains("timeout"))'</code></p><p>Example 2 (string contains): Exclude logs where <code>message</code> contains &ldquo;timeout&rdquo;</p><p><code>cat test.log | jq 'select(.message | contains("timeout") == false)'</code></p><p>Example 3 (array contains): Filter logs where <code>tags</code> array contains &ldquo;payment&rdquo;</p><p><code>cat test.log | jq 'select(.tags | contains(["payment"]))'</code></p></li></ul><h5 class="relative group">index<div id=index class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#index aria-label=Anchor>#</a></span></h5><ul><li><p><strong>Function</strong>: Returns starting index of substring in string (returns <code>null</code> if not found), used for precise position judgment</p></li><li><p><strong>Usage</strong>: <code>select(.field | index(substring) != null)</code></p><p>Example: Filter logs where &ldquo;error&rdquo; appears at position 5 or later in <code>message</code></p><p><code>cat test.log | jq 'select(.message | index("error") >= 5)'</code></p></li></ul><h5 class="relative group">test (Regular Expression)<div id=test-regular-expression class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#test-regular-expression aria-label=Anchor>#</a></span></h5><ul><li><p><strong>Function</strong>: Determine if string matches regular expression</p></li><li><p><strong>Usage</strong>: <code>select(.field | test(regular_expression))</code></p><p>Example: Filter logs where first character of <code>name</code> is &ldquo;Êùé&rdquo; (Chinese surname Li)</p><p><code>cat test.log | jq 'select(.name | test("^Êùé"))'</code></p></li></ul><h4 class="relative group">sort/uniq/group_by(array)<div id=sortuniqgroup_byarray class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#sortuniqgroup_byarray aria-label=Anchor>#</a></span></h4><ul><li><p><strong><code>sort_by(field)</code></strong>: Sort logs by specified field</p><p>Example: Sort logs by <code>timestamp</code> in ascending order</p><p><code>cat test.log | jq '.[] | sort_by(.timestamp)'</code></p></li><li><p><strong><code>unique</code></strong>: Array deduplication (commonly used to extract unique values)</p><p>Example: Extract all unique <code>userId</code>s</p><p><code>cat test.log | jq '.[] | .userId' | jq -s 'unique'</code></p></li><li><p><strong><code>group_by(field)[]</code></strong>: Group by field (commonly used before statistics)</p><p>Example: Group and count logs by <code>level</code></p><p><code>cat test.log | jq '.[] | group_by(.level)'</code></p></li></ul><h4 class="relative group"><strong>Multiple lines of independent JSON objects (not arrays)</strong><div id=multiple-lines-of-independent-json-objects-not-arrays class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#multiple-lines-of-independent-json-objects-not-arrays aria-label=Anchor>#</a></span></h4><ul><li><p><strong>Function</strong>: Convert multiple lines of independent JSON objects (not arrays) into an array</p><p>Example: For non-array JSON, use -s and .[]</p><p><code>cat test.log | jq -s 'sort_by(.timestamp) | .[]'</code></p></li></ul><h4 class="relative group">length<div id=length class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#length aria-label=Anchor>#</a></span></h4><ul><li><p><strong>Function</strong>: Returns length of array or string</p></li><li><p><strong>Usage</strong>:</p><p><code>cat test.log | jq '.[] | length'</code> Get number of logs</p><p><code>cat test.log | jq '.message | length'</code> Get character count of log messages</p></li></ul><h4 class="relative group">Rename Fields<div id=rename-fields class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#rename-fields aria-label=Anchor>#</a></span></h4><ul><li><strong>Function</strong>: Rename fields to other names</li><li><strong>Usage</strong>:</li></ul><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># Example: Rename field &#34;code&#34; to &#34;uid&#34; and &#34;cardnumber&#34; to &#34;ID&#34;</span>
</span></span><span class=line><span class=cl>cat test.log <span class=p>|</span> jq <span class=s1>&#39;with_entries(if .key == &#34;code&#34; then .key = &#34;uid&#34; elif .key == &#34;cardnumber&#34; then .key = &#34;ID&#34; else . end)&#39;</span></span></span></code></pre></div></div><h2 class="relative group">üìä Log Statistical Analysis Commands<div id=-log-statistical-analysis-commands class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#-log-statistical-analysis-commands aria-label=Anchor>#</a></span></h2><h3 class="relative group">sort/uniq<div id=sortuniq class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#sortuniq aria-label=Anchor>#</a></span></h3><ul><li><strong>Function</strong>: Used together to sort and deduplicate arrays, commonly used for log data statistics</li><li><strong>Usage</strong>: <code>cat test.log | jq '.level' | sort | uniq</code></li></ul><h3 class="relative group">wc<div id=wc class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#wc aria-label=Anchor>#</a></span></h3><ul><li><strong>Function</strong>: Count number of lines, words, and bytes in logs</li><li><strong>Usage</strong>: <code>cat test.log | wc -l</code> Get number of log lines</li></ul><h3 class="relative group">awk<div id=awk class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#awk aria-label=Anchor>#</a></span></h3><p><code>awk</code> is a powerful text processing tool, particularly suitable for log field extraction, conditional filtering, and statistical calculations. It processes text line by line and can split each line into fields based on delimiters.</p><ul><li><p><strong>Basic Syntax</strong>:</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>awk <span class=s1>&#39;pattern {action}&#39;</span> file  <span class=c1># pattern is filter condition, action is processing action</span></span></span></code></pre></div></div></li><li><p><strong>Extract fields by delimiter</strong>: Assume logs are space-separated, extract 1st and 3rd columns</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat test.log <span class=p>|</span> awk <span class=s1>&#39;{print $1, $3}&#39;</span>  <span class=c1># $1 represents 1st column, $3 represents 3rd column</span></span></span></code></pre></div></div></li><li><p><strong>Specify delimiter</strong>: Use <code>-F</code> to specify delimiter (e.g., comma, colon, etc.)</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat test.log <span class=p>|</span> awk -F <span class=s1>&#39;,&#39;</span> <span class=s1>&#39;{print $2}&#39;</span>  <span class=c1># Split by comma, extract 2nd column</span></span></span></code></pre></div></div></li><li><p><strong>Conditional filtering</strong>: Only process lines that meet the conditions</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat test.log <span class=p>|</span> awk <span class=s1>&#39;$3 &gt; 100 {print $0}&#39;</span>  <span class=c1># Filter lines where 3rd column value &gt; 100</span>
</span></span><span class=line><span class=cl>cat test.log <span class=p>|</span> awk <span class=s1>&#39;/ERROR/ {print $0}&#39;</span>   <span class=c1># Filter lines containing ERROR</span></span></span></code></pre></div></div></li><li><p><strong>Statistical counting</strong>: Use built-in variables <code>NR</code> (line number) and <code>NF</code> (number of fields)</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat test.log <span class=p>|</span> awk <span class=s1>&#39;END {print NR}&#39;</span>  <span class=c1># Count total number of lines</span>
</span></span><span class=line><span class=cl>cat test.log <span class=p>|</span> awk <span class=s1>&#39;{sum+=$3} END {print sum}&#39;</span>  <span class=c1># Sum values in 3rd column and output total</span></span></span></code></pre></div></div></li><li><p><strong>Formatted output</strong>: Use <code>printf</code> to customize output format</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat test.log <span class=p>|</span> awk <span class=s1>&#39;{printf &#34;Level: %s, Message: %s\n&#34;, $1, $2}&#39;</span></span></span></code></pre></div></div></li><li><p><strong>Multiple condition combinations</strong>: Combine logical operators (&&, ||, !)</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat test.log <span class=p>|</span> awk <span class=s1>&#39;$1==&#34;ERROR&#34; &amp;&amp; $3&gt;50 {print $0}&#39;</span>  <span class=c1># 1st column is ERROR and 3rd column &gt; 50</span></span></span></code></pre></div></div></li></ul><p><strong>Common Built-in Variables</strong>:</p><table><thead><tr><th>Variable</th><th>Description</th></tr></thead><tbody><tr><td><code>$0</code></td><td>Complete content of current line</td></tr><tr><td><code>$1, $2, $n</code></td><td>1st, 2nd, nth column of current line</td></tr><tr><td><code>NR</code></td><td>Current line number being processed</td></tr><tr><td><code>NF</code></td><td>Total number of fields in current line</td></tr><tr><td><code>FS</code></td><td>Field separator (default is space)</td></tr><tr><td><code>OFS</code></td><td>Output field separator</td></tr></tbody></table><h2 class="relative group">üíº Practical Case Analysis<div id=-practical-case-analysis class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#-practical-case-analysis aria-label=Anchor>#</a></span></h2><h3 class="relative group">Query Non-Info Logs<div id=query-non-info-logs class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#query-non-info-logs aria-label=Anchor>#</a></span></h3><p>Exclude some irrelevant logs using contains</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat test.log <span class=p>|</span> jq <span class=s1>&#39;select(.level!=&#34;info&#34; and (.msg | contains(&#34;config&#34;) == false))&#39;</span></span></span></code></pre></div></div><h3 class="relative group">Query Logs for Specific User<div id=query-logs-for-specific-user class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#query-logs-for-specific-user aria-label=Anchor>#</a></span></h3><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat test.log <span class=p>|</span> jq <span class=s1>&#39;select(.uid == 123)&#39;</span>
</span></span><span class=line><span class=cl>cat test.log <span class=p>|</span> jq <span class=s1>&#39;select(.uid == 123 and (.message | contains(&#34;succ&#34;)))&#39;</span></span></span></code></pre></div></div><h3 class="relative group">Count Error Logs<div id=count-error-logs class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#count-error-logs aria-label=Anchor>#</a></span></h3><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat test.log <span class=p>|</span> jq <span class=s1>&#39;select(.level==&#34;error&#34;) | .request_id&#39;</span> <span class=p>|</span> sort <span class=p>|</span> uniq <span class=p>|</span> wc -l</span></span></code></pre></div></div></div></div><script type=text/javascript src=/js/page.min.54b6f4371722649edbe871e431d8670d670878c22be8f36e229fe53cc9b786fe25a834def5e6de621f7a3e37b72bc8cd73839aa5ed907ed6cbd45cd3e1b0fa20.js integrity="sha512-VLb0NxciZJ7b6HHkMdhnDWcIeMIr6PNuIp/lPMm3hv4lqDTe9ebeYh96Pje3K8jNc4Oape2QftbL1FzT4bD6IA==" data-oid=views_posts/Log/index.md data-oid-likes=likes_posts/Log/index.md></script></section><footer class="pt-8 max-w-prose print:hidden"><div class=pt-8><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class="flex justify-between pt-3"><span class="flex flex-col"><a class="flex text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" href=/en/posts/mac/><span class=leading-6><span class="inline-block rtl:rotate-180">&larr;</span>&ensp;Boost Mac Productivity with Custom Shortcuts
</span></a></span><span class="flex flex-col items-end"><a class="flex text-right text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" href=/en/posts/acm/python/><span class=leading-6>Python Algorithm Problem Solving Techniques&ensp;<span class="inline-block rtl:rotate-180">&rarr;</span></span></a></span></div></div></footer></article><div id=scroll-to-top class="fixed bottom-6 end-6 z-50 transform translate-y-4 opacity-0 duration-200"><a href=#the-top class="pointer-events-auto flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label="Scroll to top" title="Scroll to top">&uarr;</a></div></main><footer id=site-footer class="py-10 print:hidden"><div class="flex items-center justify-between"><p class="text-sm text-neutral-500 dark:text-neutral-400">&copy;
2026
muzimu</p><p class="text-xs text-neutral-500 dark:text-neutral-400">Powered by <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo</a> & <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://blowfish.page/ target=_blank rel="noopener noreferrer">Blowfish</a></p></div><script>mediumZoom(document.querySelectorAll("img:not(.nozoom)"),{margin:24,background:"rgba(0,0,0,0.5)",scrollOffset:0})</script><script type=text/javascript src=/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh+sCQ0E53ghYrxgYqw+0GCRyIEpA=="></script></footer><div id=search-wrapper class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh] z-500" data-url=https://muzimu.github.io/en/><div id=search-modal class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800"><header class="relative z-10 flex items-center justify-between flex-none px-2"><form class="flex items-center flex-auto min-w-0"><div class="flex items-center justify-center w-8 h-8 text-neutral-400"><span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></div><input type=search id=search-query class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent" placeholder=Search tabindex=0></form><button id=close-search-button class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" title="Close (Esc)">
<span class="relative block icon"><svg viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></button></header><section class="flex-auto px-2 overflow-auto"><ul id=search-results></ul></section></div></div></div></body></html>